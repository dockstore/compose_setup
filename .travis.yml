sudo: required
services:
- docker

addons:
  apt:
    packages:
    - nginx

language: node_js
node_js:
  - "10"

before_install:
- gem install mustache
- npm install
- npm run install-git-secrets

install:
- travis_wait 30 bash install_bootstrap --script
- docker-compose version
# validate the nginx configuration files using nginx via docker
- docker run -v $PWD/config/default.nginx_http.conf:/etc/nginx/conf.d/default.conf:ro -v $PWD/config/default.nginx_http.shared.conf:/etc/nginx/conf.d/default.nginx_http.shared.conf:ro -v $PWD/config/default.nginx_http.security.conf:/etc/nginx/conf.d/default.nginx_http.security.conf:ro nginx:1.13.1 nginx -t -c /etc/nginx/nginx.conf
